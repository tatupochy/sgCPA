{% extends 'base.html' %}

{% block title %} Matrícula {% endblock %}

{% block content %}
<div class="container card" style="padding: 1%;">
    <i class="fa fa-arrow-left" aria-hidden="true" onclick= "window.location.href = '/enrollments'" style="cursor: pointer;"></i>
    <h1>Matrícula: {{ enrollment.name }} </h1>
    <form method="post" class="form">
        {% csrf_token %}
        <p>Cuotas:</p>
        <table class="table table-hover table-bordered table-striped">
            <thead>
                <tr>
                    <th scope="col">Cuota</th>
                    <th scope="col">Estudiante</th>
                    <th scope="col">Año</th>
                    <th scope="col">Fecha</th>
                    <th scope="col">Fecha de vencimiento</th>
                    <th scope="col">Monto</th>
                    <th scope="col">Estado</th>
                </tr>
            </thead>
            <tbody>
                {% for fee in fees %}
                <tr onclick="window.location.href='/fees/{{ fee.id }}';" style="cursor: pointer;">
                    <td>{{ fee.name }}</td>
                    <td>{{ fee.student.name }} {{ fee.student.lastName }}</td>
                    <td>{{ fee.year }}</td>
                    <td>{{ fee.fee_date }}</td>
                    <td>{{ fee.expiration_date }}</td>
                    <td>{{ fee.fee_amount }}</td>
                    <td>{{ fee.state.description }}</td>
                </tr>
                {%  endfor %}
            </tbody>
        </table>
        <div class="form-group">
            <label for="id_student" class="form-label">Estudiante:</label>
            <input type="text" class="form-control" id="id_student" name="student" value="{{ enrollment.student.ciNumber }}" disabled readonly>
        </div>
        <div class="form-group">
            <label for="id_year" class="form-label">Año:</label>
            <input type="number" class="form-control" id="id_year" name="year" value="{{ enrollment.year }}" disabled readonly>
        </div>
        <div class="form-group">
            <label for="id_enrollment_date" class="form-label">Fecha:</label>
            <input type="date" class="form-control" id="id_enrollment_date" name="enrollment_date" value="{{ enrollment.enrollment_date }}" disabled readonly>
        </div>
        <div class="form-group">
            <label for="id_enrollment_amount" class="form-label">Monto:</label>
            <input type="text" class="form-control" id="id_enrollment_amount" value="{{ enrollment.enrollment_amount }}" name="enrollment_amount" disabled readonly>
        </div>
        <div class="form-group">
            <label for="id_state" class="form-label">Estado:</label>
            <input type="text" class="form-control" id="id_state" value="{{ enrollment.state.description }}" name="id_state" disabled readonly>
        </div>
    </form>
</div>
{% endblock %}
